{"is_source_file": true, "format": "Python (FastAPI)", "description": "This file defines API routes related to 'workouts' within a fitness application, including generating workouts based on user input, creating custom workouts, and retrieving workout history. It includes various Pydantic models for request and response schemas, route handlers, and interactions with SQLAlchemy ORM models for database operations.", "external_files": ["src.database.connection", "src.models"], "external_methods": ["get_db", "query", "filter", "first", "all", "join", "order_by", "limit", "add", "commit", "refresh", "exclude", "in_", "is_", "desc"], "published": ["router"], "classes": [{"name": "WorkoutGenerateRequest", "description": "Request schema for generating a workout, including user ID, goal, equipment, and duration."}, {"name": "WorkoutGenerateResponse", "description": "Response schema for the generated workout, containing workout ID, goal, exercises, and estimated duration."}, {"name": "CustomWorkoutRequest", "description": "Request schema for creating a custom workout with specified exercises."}], "methods": [{"name": "WorkoutGenerateResponse generate_workout( request: WorkoutGenerateRequest, db: Session = Depends(get_db) )", "description": "Endpoint to generate a personalized workout plan based on user goals, equipment, and duration.", "scope": "", "scopeKind": ""}, {"name": "WorkoutGenerateResponse create_custom_workout( request: CustomWorkoutRequest, db: Session = Depends(get_db) )", "description": "Endpoint to create a custom workout with user-selected exercises.", "scope": "", "scopeKind": ""}, {"name": "List[dict] get_workout_history( user_id: UUID, limit: int = 20, db: Session = Depends(get_db) )", "description": "Endpoint to retrieve a user's workout history, including exercises and logs.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "db.filter", "db.first", "db.all", "db.add", "db.commit", "db.refresh", "db.query(Exercise)", "db.query(Equipment)", "db.query(User)", "db.query(Workout)", "db.query(WorkoutExercise)", "db.query(WorkoutLog)", "join", "order_by", "limit"], "search-terms": ["FastAPI workouts routes", "Workout generation endpoint", "Custom workout creation", "Workout history retrieval", "SQLAlchemy ORM interactions", "Workout schemas", "Workout exercises management", "User-specific workout data"], "state": 2, "file_id": 26, "knowledge_revision": 66, "git_revision": "ff8c2e9542ccc2eff22dd1834b7422f1b7130730", "revision_history": [{"62": ""}, {"66": "ff8c2e9542ccc2eff22dd1834b7422f1b7130730"}], "ctags": [{"_type": "tag", "name": "CustomWorkoutRequest", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^class CustomWorkoutRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WorkoutGenerateRequest", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^class WorkoutGenerateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WorkoutGenerateResponse", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^class WorkoutGenerateResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "create_custom_workout", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^async def create_custom_workout($/", "language": "Python", "typeref": "typename:WorkoutGenerateResponse", "kind": "function", "signature": "( request: CustomWorkoutRequest, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "duration_minutes", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    duration_minutes: Optional[int] = Field(45, description=\"Target workout duration in minutes\"/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "WorkoutGenerateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "equipment", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    equipment: Optional[List[str]] = Field(None, description=\"List of available equipment names /", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "WorkoutGenerateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "estimated_duration", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    estimated_duration: int = Field(..., description=\"Estimated workout duration in minutes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "WorkoutGenerateResponse", "scopeKind": "class"}, {"_type": "tag", "name": "exercises", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    exercises: List[dict] = Field(..., description=\"List of exercises with details\")$/", "language": "Python", "typeref": "typename:List[dict]", "kind": "variable", "scope": "WorkoutGenerateResponse", "scopeKind": "class"}, {"_type": "tag", "name": "exercises", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    exercises: List[dict] = Field(..., description=\"List of exercises with exercise_id, target_s/", "language": "Python", "typeref": "typename:List[dict]", "kind": "variable", "scope": "CustomWorkoutRequest", "scopeKind": "class"}, {"_type": "tag", "name": "generate_workout", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^async def generate_workout($/", "language": "Python", "typeref": "typename:WorkoutGenerateResponse", "kind": "function", "signature": "( request: WorkoutGenerateRequest, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "get_workout_history", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^async def get_workout_history($/", "language": "Python", "typeref": "typename:List[dict]", "kind": "function", "signature": "( user_id: UUID, limit: int = 20, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "goal", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    goal: str = Field(..., description=\"Workout goal: 'strength', 'hypertrophy', 'endurance', 'w/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "WorkoutGenerateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "goal", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    goal: str = Field(..., description=\"Workout goal\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "CustomWorkoutRequest", "scopeKind": "class"}, {"_type": "tag", "name": "goal", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    goal: str = Field(..., description=\"Workout goal\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "WorkoutGenerateResponse", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^router = APIRouter(prefix=\"\\/workouts\", tags=[\"workouts\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    user_id: UUID = Field(..., description=\"User ID for whom to generate the workout\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "WorkoutGenerateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    user_id: UUID = Field(..., description=\"User ID who owns the workout\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "CustomWorkoutRequest", "scopeKind": "class"}, {"_type": "tag", "name": "workout_id", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/workouts.py", "pattern": "/^    workout_id: UUID = Field(..., description=\"Unique identifier for the generated workout\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "WorkoutGenerateResponse", "scopeKind": "class"}], "hash": "bcce80b66599b5174bedc259704faf86", "format-version": 4, "code-base-name": "workout_backend", "filename": "workout_backend/src/api/routes/workouts.py", "fields": [{"name": "Optional[int] duration_minutes", "scope": "WorkoutGenerateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] equipment", "scope": "WorkoutGenerateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "int estimated_duration", "scope": "WorkoutGenerateResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "List[dict] exercises", "scope": "WorkoutGenerateResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str goal", "scope": "WorkoutGenerateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/workouts\", tags=[\"workouts\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "UUID user_id", "scope": "WorkoutGenerateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID workout_id", "scope": "WorkoutGenerateResponse", "scopeKind": "class", "description": "unavailable"}]}