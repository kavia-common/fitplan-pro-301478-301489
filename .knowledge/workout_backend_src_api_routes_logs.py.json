{"is_source_file": true, "format": "Python", "description": "This source file defines API routes for logging workout sessions and exercise sets using FastAPI. It includes data models, route handlers for creating logs, logging exercise sets, and retrieving logs for a specific workout, with validation and database interactions.", "external_files": ["src.database.connection", "src.models", "src.schemas.exercise_set"], "external_methods": ["get_db"], "published": ["log_workout", "log_exercise_sets", "get_workout_logs"], "classes": [{"name": "WorkoutLogRequest", "description": "Request schema for logging a workout session, including duration."}, {"name": "ExerciseSetLogRequest", "description": "Request schema for logging multiple exercise sets."}, {"name": "WorkoutLogDetailResponse", "description": "Response schema providing detailed information about a workout log including exercise sets."}], "methods": [{"name": "WorkoutLogDetailResponse log_workout( workout_id: UUID, request: WorkoutLogRequest, db: Session = Depends(get_db) )", "description": "Endpoint to create a new workout log entry for a completed workout session.", "scope": "", "scopeKind": ""}, {"name": "List[ExerciseSetResponse] log_exercise_sets( workout_id: UUID, exercise_id: int, request: ExerciseSetLogRequest, db: Session = Depends(get_db) )", "description": "Endpoint to log exercise sets for a specific exercise within a workout session.", "scope": "", "scopeKind": ""}, {"name": "List[WorkoutLogDetailResponse] get_workout_logs( workout_id: UUID, db: Session = Depends(get_db) )", "description": "Endpoint to retrieve all logs for a specific workout along with exercise sets.", "scope": "", "scopeKind": ""}], "calls": ["db.query(Workout).filter(Workout.id == workout_id).first()", "db.query(WorkoutExercise).filter(...).first()", "db.query(Exercise).filter(Exercise.id == exercise_id).first()", "db.query(WorkoutLog).filter(...).order_by(...).first()", "db.query(ExerciseSet, Exercise).join(...).filter(...)"], "search-terms": ["FastAPI workout logging", "exercise set logging", "workout session routes", "workout log retrieval", "exercise set creation"], "state": 2, "file_id": 28, "knowledge_revision": 64, "git_revision": "ff8c2e9542ccc2eff22dd1834b7422f1b7130730", "ctags": [{"_type": "tag", "name": "ExerciseSetLogRequest", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^class ExerciseSetLogRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WorkoutLogDetailResponse", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^class WorkoutLogDetailResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WorkoutLogRequest", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^class WorkoutLogRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "duration_minutes", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^    duration_minutes: int = Field(..., description=\"Duration in minutes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "WorkoutLogDetailResponse", "scopeKind": "class"}, {"_type": "tag", "name": "duration_minutes", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^    duration_minutes: int = Field(..., description=\"Duration of the workout in minutes\", ge=1)$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "WorkoutLogRequest", "scopeKind": "class"}, {"_type": "tag", "name": "exercise_sets", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^    exercise_sets: List[dict] = Field(..., description=\"Exercise sets logged\")$/", "language": "Python", "typeref": "typename:List[dict]", "kind": "variable", "scope": "WorkoutLogDetailResponse", "scopeKind": "class"}, {"_type": "tag", "name": "get_workout_logs", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^async def get_workout_logs($/", "language": "Python", "typeref": "typename:List[WorkoutLogDetailResponse]", "kind": "function", "signature": "( workout_id: UUID, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "log_exercise_sets", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^async def log_exercise_sets($/", "language": "Python", "typeref": "typename:List[ExerciseSetResponse]", "kind": "function", "signature": "( workout_id: UUID, exercise_id: int, request: ExerciseSetLogRequest, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "log_id", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^    log_id: UUID = Field(..., description=\"Workout log ID\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "WorkoutLogDetailResponse", "scopeKind": "class"}, {"_type": "tag", "name": "log_workout", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^async def log_workout($/", "language": "Python", "typeref": "typename:WorkoutLogDetailResponse", "kind": "function", "signature": "( workout_id: UUID, request: WorkoutLogRequest, db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "performed_at", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^    performed_at: datetime = Field(..., description=\"When the workout was performed\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "WorkoutLogDetailResponse", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^router = APIRouter(tags=[\"logs\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "sets", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^    sets: List[ExerciseSetCreate] = Field(..., description=\"List of sets performed\")$/", "language": "Python", "typeref": "typename:List[ExerciseSetCreate]", "kind": "variable", "scope": "ExerciseSetLogRequest", "scopeKind": "class"}, {"_type": "tag", "name": "workout_id", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/logs.py", "pattern": "/^    workout_id: UUID = Field(..., description=\"Workout ID\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "WorkoutLogDetailResponse", "scopeKind": "class"}], "hash": "dd4b1852dad25987b97082de8c1235f2", "format-version": 4, "code-base-name": "workout_backend", "filename": "workout_backend/src/api/routes/logs.py", "fields": [{"name": "int duration_minutes", "scope": "WorkoutLogDetailResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "List[dict] exercise_sets", "scope": "WorkoutLogDetailResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID log_id", "scope": "WorkoutLogDetailResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime performed_at", "scope": "WorkoutLogDetailResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(tags=[\"logs\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[ExerciseSetCreate] sets", "scope": "ExerciseSetLogRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID workout_id", "scope": "WorkoutLogDetailResponse", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"64": "ff8c2e9542ccc2eff22dd1834b7422f1b7130730"}]}