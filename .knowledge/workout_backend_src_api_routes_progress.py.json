{"is_source_file": true, "format": "Python (FastAPI with SQLAlchemy and Pydantic)", "description": "This file defines API routes for retrieving user progress and exercise-specific progress data in a workout tracking application. It includes endpoint handlers that query the database for user workouts, log data, exercise sets, and compile comprehensive progress summaries and detailed exercise progression over specified time periods.", "external_files": ["src/database/connection.py", "src/models.py"], "external_methods": ["get_db"], "published": ["get_progress_summary", "get_exercise_progress"], "classes": [{"name": "ProgressSummary", "description": "Pydantic model representing a summary of user progress, including total workouts, exercises, sets, reps, duration, calories estimation, weekly/monthly trends, and exercise-specific progress details."}, {"name": "ExerciseProgress", "description": "Pydantic model representing detailed progress data for a specific exercise, including total sets, reps, max and average weights, and a timeline of progression data."}], "methods": [{"name": "ProgressSummary get_progress_summary( user_id: UUID, days: int = Query(30, description=\"Number of days to include in the summary\", ge=1, le=365), db: Session = Depends(get_db) )", "description": "API endpoint handler that retrieves a comprehensive progress summary for a user over a specified number of days, aggregating workout counts, exercise metrics, duration, calories burned, and per-exercise progression.", "scope": "", "scopeKind": ""}, {"name": "ExerciseProgress get_exercise_progress( user_id: UUID, exercise_id: int, days: int = Query(90, description=\"Number of days of history to retrieve\", ge=1, le=365), db: Session = Depends(get_db) )", "description": "API endpoint handler that provides detailed historical progress for a specific exercise for a user over a specified number of days, including sets, reps, weights, and progression timeline.", "scope": "", "scopeKind": ""}], "calls": ["db.query(User).filter(User.id == user_id).first()", "db.query(Workout).filter(Workout.user_id == user_id).all()", "db.query(WorkoutLog).filter(WorkoutLog.workout_id.in_(workout_ids), WorkoutLog.performed_at >= start_date).all()", "db.query(ExerciseSet).filter(ExerciseSet.workout_log_id.in_(log_ids)).all()", "db.query(Exercise).filter(Exercise.id == exercise_id).first()", "db.query(Workout).filter(Workout.user_id == user_id).all()", "db.query(WorkoutLog).filter(WorkoutLog.workout_id.in_(workout_ids), WorkoutLog.performed_at >= start_date).all()", "db.query(ExerciseSet, WorkoutLog).join(WorkoutLog, ExerciseSet.workout_log_id == WorkoutLog.id).filter(ExerciseSet.workout_log_id.in_(log_ids), ExerciseSet.exercise_id == exercise_id).order_by(WorkoutLog.performed_at).all()"], "search-terms": ["progress", "workout", "exercise", "progress summary", "exercise progression", "user progress API", "fastapi", "sqlalchemy", "workout logs", "exercise sets"], "state": 2, "file_id": 29, "knowledge_revision": 65, "git_revision": "ff8c2e9542ccc2eff22dd1834b7422f1b7130730", "ctags": [{"_type": "tag", "name": "ExerciseProgress", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^class ExerciseProgress(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProgressSummary", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^class ProgressSummary(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "avg_weight_kg", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    avg_weight_kg: float = Field(..., description=\"Average weight lifted\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "ExerciseProgress", "scopeKind": "class"}, {"_type": "tag", "name": "estimated_calories_burned", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    estimated_calories_burned: float = Field(..., description=\"Estimated total calories burned\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "exercise_id", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    exercise_id: int = Field(..., description=\"Exercise ID\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ExerciseProgress", "scopeKind": "class"}, {"_type": "tag", "name": "exercise_name", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    exercise_name: str = Field(..., description=\"Exercise name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ExerciseProgress", "scopeKind": "class"}, {"_type": "tag", "name": "exercise_progress", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    exercise_progress: List[dict] = Field(..., description=\"Progress per exercise\")$/", "language": "Python", "typeref": "typename:List[dict]", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "get_exercise_progress", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^async def get_exercise_progress($/", "language": "Python", "typeref": "typename:ExerciseProgress", "kind": "function", "signature": "( user_id: UUID, exercise_id: int, days: int = Query(90, description=\"Number of days of history to retrieve\", ge=1, le=365), db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "get_progress_summary", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^async def get_progress_summary($/", "language": "Python", "typeref": "typename:ProgressSummary", "kind": "function", "signature": "( user_id: UUID, days: int = Query(30, description=\"Number of days to include in the summary\", ge=1, le=365), db: Session = Depends(get_db) )"}, {"_type": "tag", "name": "max_weight_kg", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    max_weight_kg: float = Field(..., description=\"Maximum weight lifted\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "ExerciseProgress", "scopeKind": "class"}, {"_type": "tag", "name": "progression", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    progression: List[dict] = Field(..., description=\"Historical progression data\")$/", "language": "Python", "typeref": "typename:List[dict]", "kind": "variable", "scope": "ExerciseProgress", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^router = APIRouter(prefix=\"\\/progress\", tags=[\"progress\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "total_duration_minutes", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    total_duration_minutes: int = Field(..., description=\"Total workout time in minutes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "total_exercises", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    total_exercises: int = Field(..., description=\"Total number of exercises performed\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "total_reps", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    total_reps: int = Field(..., description=\"Total number of reps performed\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "total_reps", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    total_reps: int = Field(..., description=\"Total reps performed\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ExerciseProgress", "scopeKind": "class"}, {"_type": "tag", "name": "total_sets", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    total_sets: int = Field(..., description=\"Total number of sets completed\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "total_sets", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    total_sets: int = Field(..., description=\"Total sets completed\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ExerciseProgress", "scopeKind": "class"}, {"_type": "tag", "name": "total_workouts", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    total_workouts: int = Field(..., description=\"Total number of workouts completed\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    user_id: UUID = Field(..., description=\"User ID\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}, {"_type": "tag", "name": "workout_frequency", "path": "/home/kavia/workspace/code-generation/fitplan-pro-301478-301489/workout_backend/src/api/routes/progress.py", "pattern": "/^    workout_frequency: dict = Field(..., description=\"Workout frequency by time period\")$/", "language": "Python", "typeref": "typename:dict", "kind": "variable", "scope": "ProgressSummary", "scopeKind": "class"}], "hash": "b90a18408ba2713bccc459d6c759ac21", "format-version": 4, "code-base-name": "workout_backend", "filename": "workout_backend/src/api/routes/progress.py", "fields": [{"name": "float avg_weight_kg", "scope": "ExerciseProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "float estimated_calories_burned", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "int exercise_id", "scope": "ExerciseProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "str exercise_name", "scope": "ExerciseProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "List[dict] exercise_progress", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "float max_weight_kg", "scope": "ExerciseProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "List[dict] progression", "scope": "ExerciseProgress", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/progress\", tags=[\"progress\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int total_duration_minutes", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_exercises", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_reps", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_sets", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_workouts", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID user_id", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}, {"name": "dict workout_frequency", "scope": "ProgressSummary", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"65": "ff8c2e9542ccc2eff22dd1834b7422f1b7130730"}]}